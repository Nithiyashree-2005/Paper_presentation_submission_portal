<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Submission</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style1.css') }}">
    <style>
        .submission-form {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px auto;
            max-width: 600px;
        }

        .submission-form input {
            flex: 1;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 1em;
        }

        .submission-form button {
            padding: 12px 20px;
            background-color: #004080;
            color: white;
            font-size: 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }

        .submission-form button:hover {
            background-color: #002f5d;
        }

        table {
            width: 95%;
            margin: 20px auto;
            border-collapse: collapse;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        th, td {
            padding: 14px 20px;
            border-bottom: 1px solid #ddd;
            text-align: left;
        }

        th {
            background: #004080;
            color: #fff;
        }

        tr:hover {
            background: #f1f1f1;
        }

        .status {
            font-weight: bold;
            padding: 6px 10px;
            border-radius: 4px;
            background: #eee;
        }

        .status.Pending {
            color: #e67e22;
        }

        .status.Accepted {
            color: #27ae60;
        }

        .status.Rejected {
            color: #c0392b;
        }
    </style>
</head>
<body>

<main>
    <div class="video-background">
        <video autoplay loop muted playsinline>
            <source src="/static/video/first_video.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>
</main>

<header>
    <div class="logo">
        <img src="/static/image/logo.png">
        <strong>
            இந்திய தொழில்நுட்ப நிறுவனம் மதராஸ் <br>
            भारतीय प्रौद्योगिकी संस्थान मद्रास <br>
            Indian Institute of Technology Madras
        </strong>
        <img src="/static/image/left_logo.png">
    </div>
</header>

<div class="navbar">
    <nav>
        <ul>
            <li><a href="/">HOME</a></li>
            <li><a href="/submit">SUBMIT PAPER</a></li>
            <li><a href="/view">VIEW SUBMISSION</a></li>
            <li><a href="/admin-page">ADMIN VIEW</a></li>
            <li><a href="/about">ABOUT US</a></li>
        </ul>
    </nav>
</div>

<h2 style="text-align: center;">Check Submission</h2>

<form method="POST" class="submission-form">
    <input name="email" type="email" placeholder="Enter your email" required>
    <button type="submit">View</button>
</form>

{% if submissions %}
    <table>
        <tr>
            <th>Name</th>
            <th>ID</th>
            <th>Email</th>
            <th>Title</th>
            <th>Status</th>
        </tr>
        {% for sub in submissions %}
        <tr>
            <td>{{ sub.student_name }}</td>
            <td>{{ sub.student_id }}</td>
            <td>{{ sub.email }}</td>
            <td>{{ sub.title }}</td>
            <td><span class="status {{ sub.status }}">{{ sub.status }}</span></td>
        </tr>
        {% endfor %}
    </table>
{% elif submissions is not none %}
    <p style="text-align: center; color:white">No submissions found for that email.</p>
{% endif %}

</body>
</html>
